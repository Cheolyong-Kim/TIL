# EDA(Easy Data Augmentation)
---
<br>
데이터 불균형 문제를 해결하기 위해 사용하는 방법은 여러가지가 있다.
<br>
<br>
대표적으로 언더샘플링, 오버샘플링이 떠오르는데, 
이는 데이터의 다양성을 줄이거나 중복 데이터가 많이 발생해 과적합이 발생하는 등의 자잘한 문제가 생긴다.
<br>
하지만 SMOTE와 같이 원래의 샘플링의 단점을 어느정도 없애주는 기술들이 존재한다. 
<br>
<br>
이미지 데이터의 경우에는 회전을 시키거나 배경의 색을 바꾸는 방법으로 쉽게 데이터를 늘릴 수 있다.
<br>
<br>
하지만 텍스트 데이터의 경우에는 위의 방법들을 사용하기에 쉽지않다.
<br>
문장에서는 한 단어만 바뀌어도 문장의 뜻이 달라질 수 있기 때문에 이미지처럼 쉽게 데이터를 증강시킬 수 없다.
<br>
SMOTE같은 기술을 사용하자니 텍스트데이터라 사용하기 힘들고
<br>
임베딩하여 SMOTE를 적용해도 텍스트의 왜곡이 생긴다.
<br>
<br>
이렇듯 불균형한 텍스트 데이터의 처리는 곤란한 점이 많은데
<br>
이 문서에서 소개할 EDA가 곤란한 점을 조금은 해소시켜준다.
<br>

---
### EDA 간단 소개
<br>
EDA는 Easy Data Augmentation의 줄임말이다.
<br>
Easy가 단어에 들어있는 만큼 쉽게 데이터를 증강시킬 수 있다.
<br>
EDA는 네가지 방법으로 텍스트 데이터를 늘린다.
<br>
<br>
1. SR(Synonym Replacement) : 특정 단어를 유의어로 교체<br>
2. RI(Random Insertion) : 임의의 단어를 삽입<br>
3. RS(Random Swap) : 문장 내 임의의 두 단어의 위치를 바꿈<br>
4. Rd(Random Deletion) : 임의의 단어 삭제<br>
<br>
위 방법을 통해 실제로 CNN과 RNN에서 성능을 향상시키는 것을 논문에서 보여주고 있다. 특히 데이터가 적은 경우에 큰 향상폭을 보인다고 한다.
<br>

---
### 들어가기 전
<br>
이전에 제안된 자연어 처리 분야의 데이터 증강 기법에는
<br>
<br>
1. 문장을 프랑스어로 번역하고 다시 영어로 번역하여 새로운 데이터를 얻음<br>
2. 데이터에 노이즈를 가볍게 주는 방식<br>
3. 유의어로 교체해주는 예측 언어 모델<br>
<br>
이렇게 대표적으로 세가지가 있었다.
<br>
유용하기는 한데, 성능 대비 구현 비용이 높아 잘 사용하지 않았다고 한다.
<br>

---
### EDA
<br>
EDA의 기법들에는 위에서 설명했듯이 네가지가 있다.
<br>
<br>
1. 유의어로 교체(SR) : 문장에서 랜덤으로 불용어가 아닌 n개의 단어를 선택하여 임의로 선택한 동의어들 중 하나로 바꾸는 기법<br>
2. 랜덤 삽입(RI) : 문장 내에서 불용어를 제외한 나머지 단어들 중에서, 랜덤으로 선택한 단어의 동의어를 임의로 정한다. 그리고 동의어를 문장 내 임의의 자리에 넣는 것을 n번 반복한다.<br>
3. 랜덤 교체(RS) : 무작위로 문장 내에서 두 단어를 선택하고 위치를 바꾼다. 이것을 n번 반복<br>
4. 랜덤 삭제(RD) : 확률 p를 통해 문장 내에 있는 각 단어들을 랜덤하게 삭제한다.<br>
<br>
긴 문장은 짧은 문장보다 단어 수가 많기 때문에 원래의 라벨을 유지하면서 노이즈에 상대적으로 영향을 덜 받는다.<br>
대신에 공식 ``n=al``과 함께 문장 길이 ``l``을 기준으로 SR, RI, RS에 대해 바뀐 단어의 수 n을 변화시킨다.
<br>
여기서 ``a``는 단어의 백분율이 변경되었음을 나타내는 매개변수이다.
(RD에서의 a는 p로 표기함)
<br>
<br>
![i1](EDA%20image/i1.jpg)
<br>
위 이미지는 각 기법들에 대한 실제 예시이다.
<br>
각각의 원래의 문장에 대해 ``n_aug``개의 증강된 문장을 만든다.
<br>
